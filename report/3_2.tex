\subsection{Grandpa returns from death to do DSP}
Grandpa starts by finding the analytical frequency response. His smoothing filter
computes the output as the average of the current stock market value and the two previous
values. This leads to the 
difference equation

\begin{equation}
	y[k] = \frac{1}{3}\left(f[k] + f[k-1] + f[k-2]\right)
\end{equation}

Where \(y\) is granpa's smoothed stock market function and \(f\) is the raw stock market
data.

He then switfy computes the Z-transform of the transfer function 
\begin{align*}
	H[z]&=\frac{1}{3}\left(1+\frac{1}{z}+\frac{1}{z^2}\right) \\
		   &=\frac{1}{3}\left(\frac{z^2+z+1}{z^2}\right)
\end{align*}
Granpa knows that to compute the magnitude and phase of the frequency response, he
must find the value of the transfer function at frequencies in the Z-domain. He knows
that frequencies in the Z-domain occupy the unit circle around the origin, therefore
the magnitude of the frequency response is 
\begin{align*}
\left|H[e^{j\Omega}]\right|&=\sqrt{\left| H[e^{j\Omega}]\right| ^2} \\
							&=\sqrt{H[e^{j\Omega}]H[e^{-j\Omega}]}
\end{align*}
Where \(\Omega\) runs from \(0\) to \(2\pi\).
And the phase is
\begin{equation*}
	P(\Omega)=\angle H[e^{j\Omega}]
\end{equation*}
Where again \(\Omega\) runs from \(0\) to \(2\pi\).

Applying this to his transfer function, Grandpa finds that
\begin{align*}
	\left|H[e^{j\Omega}]\right|&=\sqrt{\frac{1}{3^2}\left(e^{-2i\Omega}+e^{-i\Omega}+1\right)\left(e^{2i\Omega}+e^{i\Omega}+1\right)} \\
	\left|H[e^{j\Omega}]\right|&=\sqrt{\frac{1}{3^2}\left(1+e^{-i\Omega}+e^{-2i\Omega}+e^{i\Omega}+1+e^{-i\Omega}+e^{2i\Omega}+e^{i\Omega}+1\right)} \\
	\left|H[e^{j\Omega}]\right|&=\sqrt{\frac{1}{3^2}\left(3+\left(e^{2\Omega}+e^{-2\Omega}\right)+2\left(e^{i\Omega}+e^{-i\Omega}\right)\right)}
\end{align*}
And using Euler's formula Granpda finds the real valued function
\begin{equation*}
	\left|H[e^{j\Omega}]\right|=\sqrt{\frac{1}{3^2}\left(3+2\cos(2\Omega)+4\cos(\Omega)\right)}
\end{equation*}
